{% load static %}
<html lang="en">

<head>
    
    <script src="{% static 'vis/dist/vis.js' %}"></script>
    <link href="{% static 'vis/dist/vis-timeline-graph2d.min.css' %}" rel="stylesheet" type="text/css" />

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>MetaCompareWeb (Beta)</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CVarela+Round" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />

	<!-- Owl Carousel -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/owl.carousel.css' %}" />
	<link type="text/css" rel="stylesheet" href="{% static 'css/owl.theme.default.css' %}" />

	<!-- Magnific Popup -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/magnific-popup.css' %}" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/style.css' %}" />

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

    <style type="text/css">
        body, html {
            font-family: sans-serif;
        }
        
        .vis-item.sequence{
            background-color: lightgray;
            border-width: 0;
        }

        .vis-item.arg{
            background-color: salmon;
        }

        .vis-item.mge{
            background-color: lightgreen;
        }

        .vis-item.pat{
            background-color: lightskyblue;
        }
    </style>

</head>
<body>

		<!-- Nav -->
		<nav id="nav" class="navbar">
			<div class="container">

				<div class="navbar-header">
					<!-- Logo -->
					<div class="navbar-brand">
						<a href="{% url 'main' %}">

                            <h2 class="logo">MetaCompareWeb <font size=5>(Beta)</font></h2>

                            <!--
                            <img class="logo" src="img/logo.png" alt="logo">
							<img class="logo-alt" src="img/logo-alt.png" alt="logo">a
							-->
						</a>
					</div>
					<!-- /Logo -->

					<!-- Collapse nav button -->
					<div class="nav-collapse">
						<span></span>
					</div>
					<!-- /Collapse nav button -->
				</div>

				<!--  Main navigation  -->
				<ul class="main-nav nav navbar-nav navbar-right">
					<li><a href="{% url 'main' %}">Home</a></li>


					<!-- Menu !!

					<li><a href="#service">Services</a></li>
					<li><a href="#pricing">Prices</a></li>
					<li><a href="#team">Team</a></li>
					<li class="has-dropdown"><a href="#blog">Blog</a>
						<ul class="dropdown">
							<li><a href="blog-single.html">blog post</a></li>
						</ul>
					</li>

					<li><a href="#contact">Contact</a></li>
					-->

						{% if user.is_authenticated %}
							<li><a href="{% url 'project' %}">My Project</a></li>
							<li><a href="{% url 'logout' %}">Logout</a></li>
						{% endif %}
				</ul>
				<!-- /Main navigation -->

			</div>
		</nav>
        <!-- /Nav -->
        
        <!--Scaffolds list-->
        <div id="scaffold_list">
            {% ifequal scaffolds|length 0 %}
            <div class="blog-author">
                <center><h4>There are no scaffolds in this sample.</h4></center>
            </div>
			{% else %}
			<div class="container">
				{% if not all %}
				<br>
					<h3>
						Showing the only scaffolds having all 3 components (ARGs, MGEs, Pathogens) <br>
						Click <a href="{% url 'display_all_scaffolds' pk=pk %}">here</a> to show all scaffolds
					</h3>
				{% endif %}
				{% if all%}
				<br>
				<h3>
					Showing all scaffolds. Click <a href="{% url 'display_scaffolds' pk=pk %}">here</a> to show only those having all 3 components (ARGs, MGEs, Pathogens)
				</h3>
				{% endif %}
				<hr>
				<div class="col-md-4 text-center"><h3>Scaffolds</h3></div>
				<div class="col-md-4 text-center"><h3>Length</h3></div>
				<div class="col-md-4 text-center"><h3>Visualize</h3></div>
			</div>
			<div class="infinite-container container">
				<hr>
				{% for scaffold in scaffolds %}
					<div class="infinite-item">
							<div class="col-md-4 text-center" {% if scaffold.id in scaffold_intscn %} style='color:#007bff;' {% endif %}>{{ scaffold.id }}</div>
							<div class="col-md-4 text-center" {% if scaffold.id in scaffold_intscn %} style='color:#007bff;' {% endif %}>{{ scaffold|length }}</div>
							<div class="text-center">
								<a href="{% url 'visualize_scaffold' pk=pk scaffold_id=scaffold.id length=scaffold|length sequence=scaffold.seq %}">   
									<button type="button" class="btn btn-default{% if scaffold.id in scaffold_intscn %} btn-info {% endif %}" title="Run sample">
										<i class="fa fa-eye" style="font-size:16px"></i> Visualize
									</button>
								</a>
							</div>
							<hr>
					</div>
				{% endfor %}
			{% endifequal %}
			</div>
			<!-- <div class="loading" style="display:none;">Loading ... </div> -->
			{% if scaffolds.has_next %}
				<a class="infinite-more-link" href="?page={{ scaffolds.next_page_number }}">Loading ... </a>
			{% endif %}
        <!--/Scaffolds list-->
</body>
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/jquery.waypoints.min.js' %}"></script>
<script src="{% static 'js/infinite.min.js' %}"></script>
<script>
var infinite = new Waypoint.Infinite({
	element: $('.infinite-container')[0],
	// onBeforePageLoad: function(){
	// 	$('.loading').show();
	// },
	// onAfterPageLoad: function($items){
	// 	$('.loading').hide();
	// }
});
</script>
</html>