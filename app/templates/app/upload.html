{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>HTML Template</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CVarela+Round" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />

	<!-- Owl Carousel -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/owl.carousel.css' %}" />
	<link type="text/css" rel="stylesheet" href="{% static 'css/owl.theme.default.css' %}" />

	<!-- Magnific Popup -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/magnific-popup.css' %}" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/style.css' %}" />

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>
<body>



<script src = "{% static 'js/jquery.min.js' %}"></script>
<script src = "{% static 'js/jquery.formset.js' %}"></script>
<div class="upload-page">
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <fieldset>
                <h3>Upload Samples</h3>
            <font color = black>
                <p>- Upload a FASTA file containing assembled sequences for each sample. </p>
                <p>- If you have raw reads (FASTQ format) you can submit them to MetaStorm (<a href="http://bench.cs.vt.edu/MetaStorm/">http://bench.cs.vt.edu/MetaStorm/</a>) and run assembly pipeline to get assembled contigs as a FASTA file. The input files we need can be downloaded from MetaStorm by clicking "Scaffolds" buttons</p>
                <p><b>*Warning*</b> MetaCompareWeb has been tested only on inputs derived from "trimmomatic + IDBA-UD" assembly pipeline for Illumina WGS files. </p>



            </font>
            <div>
                {{ sample_form.management_form }}
                {% for sample in sample_form %}
                <div class = "link-formset">
                    <hr>
                    {{ sample.as_p }}
                </div>
                {% endfor %}
            </div>
        </fieldset>
        <hr>
        <button class="main-btn" type="submit">Upload</button>
    </form>


    <script>
    $(document).on('click', '.main-btn', function(){ document.getElementByClassName("main-btn")[0].disabled = true; return; })
    </script>

    <script>
        $('.link-formset').formset({
            addText: 'Add more samples',
            deleteText: 'remove sample <br>'
        });

    </script>

    <p><br><a href = "{% url 'main' %}">Return to home</a></p>
</div>
</body>
</html>


